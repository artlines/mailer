{% extends "tmpl.html.twig" %}

{% block title %}Авторизация{% endblock %}

{% block main %}

<main class="container" id="auth">
  <div class="row">
    <div class="col s10 offset-s1 m8 offset-m2 l6 offset-l3">
      <div class="card card-auth">
        <div class="card-content">
          <span class="card-title">
            <strong class="grey-text text-darken-2">Авторизация</strong>
          </span>

          <form action="{{ path('login') }}" method="post">
            {% if error %}
              <div class="error-message">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {% endif %}
            
            <div class="row">
              <div class="input-field col s12">
                <i class="material-icons prefix">email</i>
                <input id="email" type="text" name="_email" class="validate"
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" value="{{ last_username }}">
                <label for="email">Эл. адрес</label>
                <span class="helper-text" data-error="Неверный формат эл. адреса" data-success=""></span>
              </div>

              <input type="hidden" name="_target_path" value="/account">

              <div class="input-field col s12">
                <i class="material-icons prefix">https</i>
                <input id="password" type="password" name="_password" class="validate">
                <label for="password">Пароль</label>
              </div>

              <div class="input-field col s12 buttons">
                <button class="btn waves-effect waves-light col s12" type="submit" name="action">Войти
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>

          <!--<div class="mdl-card mdl-shadow--16dp mdl-cell mdl-cell--6-col-tablet mdl-cell--4-col-desktop mdl-cell--middle" id="login">
            <div class="mdl-card-content">
              <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">Авторизация</h2>
              </div>
             
                <form action="{{ path('login') }}" method="post" class="mdl-cell mdl-cell--12-col">
                  
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                    <i class="material-icons prefix">alternate_email</i>
                    <input class="mdl-textfield__input" type="email" id="email" name="_email" value="{{ last_username }}">
                    <label class="mdl-textfield__label" for="email">Email</label>
                  </div>
                 
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-cell mdl-cell--12-col">
                    <i class="material-icons prefix">https</i>
                    <input class="mdl-textfield__input" type="password" id="password" name="_password">
                    <label class="mdl-textfield__label" for="password">Пароль</label>
                  </div>

                  <input type="hidden" name="_target_path" value="/account">

                  <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-cell mdl-cell--12-col">Войти</button>
                  
                  {% if error %}
                    <div class="mdl-color-text--accent mdl-cell mdl-cell--12-col">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                  {% endif %}
                  
                </form>
                 
            </div>
          </div>-->

        </div>
      </div>
    </main>
    {% endblock %}
