<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <title>{% block title %}{{ title_page }}{% endblock %} | Mailer SOA</title>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0" />

    {% block stylesheets %}
        <link rel="stylesheet" href="{{ asset('assets/vendor/materialize/dist/css/materialize.min.css') }}">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="{{ asset('/build/main.css') }}">
    {% endblock %}
</head>

<body>

{% block header %}
    <header id="header" class="page-topbar">
    <div class="navbar-fixed">
        <nav class="top-navbar">
            <div class="nav-wrapper">
                <ul class="left">
                    <li>
                        <a href="#" class="sidenav-trigger full hide-on-large-only" data-target="slide-out">
                            <i class="material-icons">menu</i>
                        </a>
                        <h1 class="logo-wrapper">
                            <a href="/dashboard" class="brand-logo darken-1">
                                <img src="{{ asset('/assets/img/materialize-logo.png') }}"
                                     alt="materialize logo"></a>
                            <span class="logo-text">Materialize</span>
                        </h1>
                    </li>
                </ul>
            </div>
            <div class="progress">
                <div class="indeterminate"></div>
            </div>
        </nav>
    </div>
    </header>
{% endblock %}

{% block body %}
    <main id="mainer">
        <div class="container">
            <aside id="left-sidebar-nav">
                <ul id="slide-out" class="sidenav sidenav-fixed leftside-navigation">
                    <li class="background">
                        <div class="row">
                            <div class="col s4 m4 l4 center-align">
                                {% if app.user.avatar is defined%}
                                <img src="{{ asset(app.user.avatar) }}" alt=""
                                     class="circle responsive-img valign profile-image">
                                {% else %}
                                <i class="far fa-user fa-user--white fa-3x" aria-hidden="true"></i>
                                {% endif %}

                            </div>
                            <div class="col col s8 m8 l8" id="user-details">
                                <ul id="profile-dropdown" class="dropdown-content">
                                    <li><a href="#user_modal" data-action="{{ path('user_edit', {'id': app.user.id}) }}" class="get_modal"><i class="material-icons">person_outline</i>Профиль</a></li>
                                    <li class="divider" tabindex="-1"></li>
                                    <li><a href="/logout"><i class="material-icons">exit_to_app</i>Выход</a></li>
                                </ul>
                                <a class="btn-flat dropdown-trigger waves-effect waves-light white-text profile-btn"
                                   href="#" data-target="profile-dropdown">{{ app.user.fullname }}<i
                                            class="material-icons right">arrow_drop_down</i></a>
                                {% if app.user.role is defined%}
                                    <p class="user-roal">{{ app.user.role }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </li>
                    <li><a href="#"><i class="material-icons">drafts</i>Рассылки</a></li>
                    <li><a href="/template"><i class="material-icons">receipt</i>Шаблоны</a></li>
                    <li><a href="/send_list"><i class="material-icons">toc</i>Списки рассылок</a></li>
                    <li><a href="/user"><i class="material-icons">supervisor_account</i>Пользователи</a></li>
                    <li><a href="#"><i class="material-icons">trending_up</i>Отчёты</a></li>
                    <li><a href="/action_log"><i class="material-icons">call_to_action</i>Журнал событий</a></li>
                </ul>
            </aside>

            {% block content %}
                <section id="main">

                    <div class="card-panel" id="main-wrap">
                        <div class="row">
                            <div class="col s12 m12 l12">
                                {% block inner %}{% endblock %}
                            </div>
                        </div>
                    </div>
                </section>
            {% endblock %}
        </div>
    </main>
{% endblock %}

{% block footer %}{% endblock %}

{% block javascripts %}
    <script defer src="{{ asset('assets/vendor/jquery/dist/jquery.min.js') }}"></script>
    <script defer src="{{ asset('assets/vendor/materialize/dist/js/materialize.min.js') }}"></script>
    <script src="{{ asset('assets/vendor/json2html/json2html.js') }}"></script>
    <script defer src="{{ asset('assets/js/main.js') }}"></script>
{% endblock %}
</body>
</html>
